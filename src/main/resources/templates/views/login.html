<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Login</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    </head>
    <body style="
          background-image: url('https://cdn.pixabay.com/photo/2021/10/13/15/09/water-6706894_960_720.jpg');
          background-repeat: no-repeat;
          background-size: cover;">

        <div class="container-sm">
            <main class="form-signin" style="margin:200px; margin-top:100px;text-align: center;">
                <div id="errorDiv"></div>
                <form>

                    <h1 class="h3 mb-3 fw-normal" style="color:white; font-size: 40px"><b>Please sign in</b></h1>

                    <div class="container-sm">
                        <div class="form-floating">
                            <input id="emailInput" type="email" class="form-control" placeholder="name@example.com">
                            <label for="floatingInput">Email address</label>
                        </div>
                        <div class="form-floating" style="margin-top: 20px">
                            <input id="passwordInput" type="password" class="form-control" placeholder="Password">
                            <label for="floatingPassword">Password</label>
                        </div>
                    </div>

                    <div class="checkbox my-3">
                        <label>
                            <input type="checkbox" value="remember-me" style="color:white;"> <p style="color:white; float:right; padding-left: 5px;">Remember me</p>
                        </label>
                    </div>
                    <button class="w-50 btn btn-lg btn-dark" id="submitButton" type="submit">Sign in</button>
                    <h5 class="text-white my-4">Not registered?  <a href="/register">Create account</a></h5>
                    <h5 class="text-white my-4"><a href="/recoveryPassword">Forgot your password?</a></h5>
                    <p class="mt-5 mb-3 text-light">© 2021–2022</p>
                </form>
        </div>

    </main>
    <script>
        let emailInput;
        let passwordInput;
        let submitButton;
        let errorDiv;
        let alertHTML;

        emailInput = document.getElementById('emailInput');
        passwordInput = document.getElementById('passwordInput');
        submitButton = document.getElementById('submitButton');
        errorDiv = document.getElementById('errorDiv');
        alertHTML = `
<div class="alert alert-warning alert-dismissible fade show" role="alert">
<strong>Alert!</strong> Check your data.
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>   
`;
        submitButton.addEventListener('click', function (e) {
            e.preventDefault();
            console.log(emailInput.value)
            if (emailInput.value.length < 8) {
                //alert('El correo es muy corto')
                errorDiv.innerHTML = alertHTML;
                alert('Contraseña muy corta');
                return;
            }
            if (emailInput.value.includes('@uteq.edu.mx')) {
            } else {
                errorDiv.innerHTML = alertHTML;
                alert('El correo no es de la UTEQ');
                return;
            }
            if (passwordInput.value < 8) {
                errorDiv.innerHTML = alertHTML;
                alert('La contraseña es muy corta');
                return;
            }
            alert('Iniciaste sesión');
            location.href = "/";
        })

    </script>
</body>
</html>
