<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Recovery Password</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    </head>
    <body>

        <!-- HEADER -->
        <div data-th-replace="helpers/header :: header"></div>

        <div class='container text-center'>
            <nav aria-label="breadcrumb" style="margin:10px;">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Recovery Password</li>
                </ol>
            </nav>
        </div>

        <div id='alertDiv'></div>

        <div class='container text-center'>
            <h1>Let us recovery your password</h1>
            <h4 class='my-5'>Please insert your info</h4>
            <input id="emailInput" type='email' placeholder="Insert your email" />
            <button id="sendButton" type='button' class='btn btn-md btn-primary'>Send for Recovery</button>
        </div>

        <!-- FOOTER-->
        <div data-th-replace="helpers/footer :: footer"></div>

    </body>

    <script>
        let emailInput;
        let sendButton;
        let alertDiv;
        let alertHTML = 
        `<div class="alert alert-warning alert-dismissible fade show" role="alert">
         <strong>Alert!</strong> Check your data.
         <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
         </div`;

        emailInput = document.getElementById("emailInput");
        sendButton = document.getElementById("sendButton");
        alertDiv = document.getElementById("alertDiv");

        sendButton.addEventListener("click", (e) => {
            
            e.preventDefault();
            
            if (emailInput.value.length < 8) {
                alert("Something was wrong, try again.");
                alertDiv.innerHTML = alertHTML;
                return;
            }
            
            if (!emailInput.value.includes("@uteq.edu.mx") ) {
                alert("Your email should be institutional");
                alertDiv.innerHTML = alertHTML;
                return;
            }
            
            
           alert("GREAT, PLEASE CHECK YOUR EMAIL");
           location.href="/login";
           

        });

    </script>

</html>
